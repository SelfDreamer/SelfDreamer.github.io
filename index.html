<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="color-scheme" content="dark">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,700">
    <script src="scripts/message-box.js" type="module"></script>
    <title>Dreamer</title>
    <style>
        /* Fondo base */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: radial-gradient(#021027, #000000);
            z-index: -3;
        }

        /* Efecto de linterna */
        .flashlight-effect {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(
                    circle 1500px at 50% 50%,
                    rgba(255, 255, 255, 0.07) 0%,
                    rgba(255, 255, 255, 0.04) 20%,
                    rgba(255, 255, 255, 0.015) 40%,
                    transparent 75%
                ),
                transparent;
            z-index: -1;
            transition: background 0.2s ease-out;
            pointer-events: none;
        }

        body {
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            transition: background 0.3s, color 0.3s;
            background: rgba(13, 15, 32, 0.26);
            border-radius: 16px;
            box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(9px);
            -webkit-backdrop-filter: blur(9px);
            overflow: hidden;
            position: relative;
        }

        /* Contenedor principal de widgets */
        .widgets-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transform: translateY(120px);
            animation: widgetsSlideUp 0.8s ease-out 0.3s forwards;
        }

        @keyframes widgetsSlideUp {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .Cinnamoroll {
            --border-size: 5px;
            --border-angle: 0turn;

            width: 250px;
            height: 250px;
            border-radius: 50%;
            object-fit: cover;
            padding: var(--border-size);

            background:
                conic-gradient(from var(--border-angle), transparent 10%, #08f, #f03, #08f);

            animation: bg-spin 3s linear infinite;
            background-origin: border-box;
            background-clip: border-box;
            position: relative;
            z-index: 1;
        }

        .Cinnamoroll::before {
            content: "";
            position: absolute;
            inset: 0;
            border-radius: 50%;
            padding: var(--border-size);
            background: conic-gradient(from var(--border-angle), #213, #112 50%, #213),
                        conic-gradient(from var(--border-angle), transparent 20%, #08f, #f03);
            -webkit-mask: radial-gradient(farthest-side, transparent calc(100% - var(--border-size)), white calc(100% - var(--border-size)));
            mask: radial-gradient(farthest-side, transparent calc(100% - var(--border-size)), white calc(100% - var(--border-size)));
            -webkit-mask-composite: source-out;
            mask-composite: exclude;
            pointer-events: none;
            z-index: -1;
            animation: bg-spin 3s linear infinite;
        }

        @keyframes bg-spin {
            to { --border-angle: 1turn; }
        }

        @property --border-angle {
            syntax: "<angle>";
            inherits: true;
            initial-value: 0turn;
        }

        .titulo {
            display: block;
            margin: 0 auto;
            text-align: center;
            z-index: 10;
            margin-bottom: 20px;
        }

        .ctk-button {
            align-items: center;
            appearance: none;
            background-image: radial-gradient(100% 100% at 100% 0, #5adaff 0, #5468ff 100%);
            border: 0;
            border-radius: 6px;
            box-shadow: rgba(45, 35, 66, .4) 0 2px 4px,rgba(45, 35, 66, .3) 0 7px 13px -3px,rgba(58, 65, 111, .5) 0 -3px 0 inset;
            color: #fff;
            cursor: pointer;
            display: inline-flex;
            font-family: "JetBrains Mono",monospace;
            height: 48px;
            justify-content: center;
            line-height: 1;
            list-style: none;
            overflow: hidden;
            padding-left: 16px;
            padding-right: 16px;
            position: relative;
            text-align: left;
            text-decoration: none;
            transition: box-shadow .15s,transform .15s;
            user-select: none;
            -webkit-user-select: none;
            touch-action: manipulation;
            white-space: nowrap;
            will-change: box-shadow,transform;
            font-size: 18px;
            margin-top: 20px;
            z-index: 10;
        }

        .ctk-button:focus {
            box-shadow: #3c4fe0 0 0 0 1.5px inset, rgba(45, 35, 66, .4) 0 2px 4px, rgba(45, 35, 66, .3) 0 7px 13px -3px, #3c4fe0 0 -3px 0 inset;
        }

        .ctk-button:hover {
            box-shadow: rgba(45, 35, 66, .4) 0 4px 8px, rgba(45, 35, 66, .3) 0 7px 13px -3px, #3c4fe0 0 -3px 0 inset;
            transform: translateY(-2px);
        }

        .ctk-button:active {
            box-shadow: #3c4fe0 0 3px 7px inset;
            transform: translateY(2px);
        }

        .botones {
            display: flex;
            justify-content: center;
            gap: 10px;
            z-index: 10;
        }

        /* Estilo para el contenedor de mensajes */
        .messages-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1000;
        }

        .messages-container > * {
            pointer-events: all;
        }

    </style>
</head>
<body>

    <!-- Efecto de linterna -->
    <div class="flashlight-effect" id="flashlight"></div>

    <!-- Contenedor para mensajes (no afecta a los widgets) -->
    <div class="messages-container" id="messagesContainer"></div>

    <!-- Contenedor de widgets -->
    <div class="widgets-container">
        <img src="https://readme-typing-svg.demolab.com/?font=Iosevka&size=16&pause=1000&color=9D7CD8&center=true&vCenter=true&width=435&lines=Cybersecurity%20enthusiast%20and%20web%20hacking%20lover" alt="Texto animado" class="titulo">
        <img src="./images/Cinnamoroll.jpg" alt="Descripción" class="Cinnamoroll">

        <div class="botones">
            <button class="ctk-button" onclick="loadPage('https://github.com/SelfDreamer/')">GitHub</button>
            <button class="ctk-button" onclick="showMessage('error', 'Error', 'Actualmente no cuento con Instagram!')">Instagram</button>
            <button class="ctk-button" onclick="showMessage('warning', 'Error', 'Actualmente no cuento con YouTube!')">YouTube</button>
        </div>
    </div>

<script>
    // Script para el efecto de linterna
    document.addEventListener('DOMContentLoaded', function() {
        const flashlight = document.getElementById('flashlight');
        
        let mouseX = window.innerWidth / 2;
        let mouseY = window.innerHeight / 2;
        
        // Seguir movimiento del ratón
        document.addEventListener('mousemove', function(e) {
            mouseX = e.clientX;
            mouseY = e.clientY;
            
            // Actualizar efecto de linterna
            updateFlashlight(mouseX, mouseY);
        });
        
        // Actualizar efecto de linterna
        function updateFlashlight(x, y) {
            const width = window.innerWidth;
            const height = window.innerHeight;
            
            // Calcular posición relativa
            const posX = (x / width) * 100;
            const posY = (y / height) * 100;
            
            // Crear efecto de linterna con área muy grande y transición suave
            flashlight.style.background = 
                `radial-gradient(
                    circle 1500px at ${posX}% ${posY}%,
                    rgba(255, 255, 255, 0.07) 0%,
                    rgba(255, 255, 255, 0.04) 20%,
                    rgba(255, 255, 255, 0.015) 40%,
                    transparent 75%
                ), transparent`;
        }
        
        // Actualizar efecto al cambiar tamaño de ventana
        window.addEventListener('resize', function() {
            updateFlashlight(mouseX, mouseY);
        });
        
        // Inicializar efecto
        updateFlashlight(mouseX, mouseY);

        // Efecto adicional: ligero parpadeo natural de linterna
        setInterval(() => {
            const randomVariation = Math.random() * 0.02 + 0.98;
            const currentBackground = flashlight.style.background;
            if (currentBackground) {
                const updatedBackground = currentBackground.replace(
                    /rgba\(255, 255, 255, ([0-9.]+)\)/g, 
                    (match, opacity) => `rgba(255, 255, 255, ${parseFloat(opacity) * randomVariation})`
                );
                flashlight.style.background = updatedBackground;
            }
        }, 300);
    });

    function loadPage(page){
        showMessage('success', 'Éxito', 'La página se cargara en otra ventana');
        window.open(page, "_blank");
    }

    function showMessage(type, title, body) {
        const messagesContainer = document.getElementById('messagesContainer');
        messagesContainer.innerHTML += `
            <message-box 
                title="${title}"
                type="${type}"
                button-text="Ok"
                body="${body}">
            </message-box>
        `;
    }
</script>

</body>
</html>
